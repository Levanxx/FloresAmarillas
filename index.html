<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Flores Amarillas ‚Äî Detalle Web</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg1:#0f1020;
      --bg2:#171a35;
      --accent:#FFD54F;     /* p√©talos */
      --accent-2:#FFC107;   /* p√©talos borde */
      --center:#8D6E63;     /* centro de la flor */
      --stem:#2e7d32;       /* tallo/hojas */
      --glow:#fff59d;
      --card:#101225cc;
      --white:#f8fafc;
      --ground:#0c0f22;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:Poppins,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Helvetica,Arial,sans-serif;
      color:var(--white);
      background:
        radial-gradient(1200px 800px at 80% -20%, #2b2f7a33, transparent 60%),
        radial-gradient(900px 600px at -10% 20%, #b388ff1a, transparent 60%),
        linear-gradient(180deg,var(--bg1),var(--bg2));
      overflow:hidden;
    }

    /* --- Hero --- */
    .wrap{
      position:relative;
      height:100%;
      display:grid;
      place-items:center;
      padding:24px;
      isolation:isolate;
    }
    .card{
      position:relative;
      max-width:min(820px, 92vw);
      padding:clamp(20px, 4vw, 36px);
      border-radius:24px;
      background:var(--card);
      backdrop-filter: blur(10px);
      box-shadow: 0 10px 30px #0006, inset 0 0 0 1px #ffffff1a;
      z-index:3;
      text-align:center;
    }
    h1{
      margin:0 0 8px;
      font-size:clamp(28px, 5.5vw, 52px);
      line-height:1.05;
      letter-spacing:0.2px;
    }
    p.sub{
      margin:0 0 18px;
      opacity:.9;
      font-weight:300;
      font-size:clamp(15px, 2.6vw, 18px);
    }
    .btns{
      display:flex; gap:12px; justify-content:center; flex-wrap:wrap;
      transition: opacity .35s ease, transform .35s ease, visibility .35s ease;
    }
    .btns.hidden{
      opacity:0; transform: translateY(8px) scale(.98); visibility:hidden; pointer-events:none;
    }
    .btn{
      appearance:none; border:0; cursor:pointer;
      padding:12px 18px; border-radius:12px; font-weight:600;
      color:#0a0a0a; background:linear-gradient(180deg,#ffe173,#ffc400);
      box-shadow: 0 8px 20px #ffc10744, inset 0 -2px 0 #b28700;
      transition: transform .12s ease, box-shadow .12s ease;
    }
    .btn:hover{ transform: translateY(-2px) scale(1.02); }
    .btn:active{ transform: translateY(0) scale(.98); }
    .btn.secondary{
      background:#1c2048; color:#e6e8ff; box-shadow: inset 0 0 0 1px #3f46a7;
    }

    /* --- Jard√≠n y suelo --- */
    .garden{
      position:absolute; inset:0; z-index:1; pointer-events:none;
      filter: drop-shadow(0 6px 12px #0006);
      overflow:hidden;
    }
    .ground{
      position:absolute; left:0; right:0; bottom:-10px; height:38%;
      background:
        radial-gradient(80% 120% at 50% 0%, #20325a40 0%, transparent 60%),
        linear-gradient(180deg, transparent 0%, #0e1230 30%, var(--ground) 100%);
      z-index:0;
    }

    /* Suaves glows detr√°s */
    .glow{
      position:absolute; inset:0; z-index:0; pointer-events:none;
    }
    .glow::before, .glow::after{
      content:""; position:absolute; border-radius:50%;
      background: radial-gradient(closest-side, #fff59d33, transparent 70%);
      animation: twinkle 6s ease-in-out infinite;
    }
    .glow::before{ width:520px; height:520px; top:10%; left:-120px; animation-delay: .8s}
    .glow::after { width:420px; height:420px; bottom:-60px; right:-60px; animation-delay: 1.6s}

    /* Animaciones base */
    @keyframes floatY {
      0%,100%{ transform: translateY(0) }
      50%{ transform: translateY(-14px) }
    }
    @keyframes sway {
      0%,100%{ transform: rotate(-2deg) }
      50%{ transform: rotate(2deg) }
    }
    @keyframes twinkle {
      0%,100%{ opacity:.65; filter: blur(0px) }
      50%{ opacity:1; filter: blur(0.2px) }
    }

    /* Flor din√°mica */
    svg.flower{
      position:absolute; width:200px; height:200px;
      transform-origin: 50% 80%;
      will-change: transform, opacity;
      opacity:0;
    }
    /* Animaci√≥n de ‚Äúbrotar del suelo‚Äù */
    @keyframes bloomRise {
      0%   { transform: translateY(40vh) scale(.6) rotate(var(--r)); opacity:0 }
      60%  { opacity:1 }
      100% { transform: translateY(0) scale(1) rotate(var(--r)) }
    }
    /* Apertura de p√©talos (zoom sutil del grupo) */
    @keyframes petalOpen {
      0%   { transform: scale(.72) }
      100% { transform: scale(1) }
    }

    /* Mensaje flotante */
    .ribbon{
      position:absolute; top:10px; right:10px; z-index:4;
      padding:8px 14px; border-radius:999px;
      background:#0f1130cc; backdrop-filter: blur(8px);
      border:1px solid #ffffff22; font-size:12px; letter-spacing:.3px;
    }

    .credits{
      position:fixed; inset:auto 0 10px; display:flex; justify-content:center;
      font-size:12px; opacity:.7;
    }

    .sr-only{
      position:absolute; width:1px; height:1px; padding:0; margin:-1px;
      overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0;
    }

    /* Bot√≥n volver */
    .backbar{
      position:fixed; left:50%; transform:translateX(-50%);
      bottom:18px; z-index:4; display:none;
    }
    .backbar.show{ display:block }
    .backbtn{
      appearance:none; border:0; cursor:pointer; padding:10px 14px; border-radius:12px;
      background:#141842; color:#e6e8ff; box-shadow: inset 0 0 0 1px #3f46a7;
      font-weight:600;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="glow" aria-hidden="true"></div>
    <div class="ribbon">üíõ Septiembre vibes ‚Ä¢ Flores Amarillas</div>

    <div class="card">
      <h1>Para ti, un jard√≠n de <span style="color:#ffe066;text-shadow:0 0 10px #ffe06655">flores amarillas</span></h1>
      <p class="sub">Porque los detalles bonitos tambi√©n se programan. Toca el bot√≥n para ‚Äúflorecer‚Äù.</p>
      <div class="btns" id="btnGroup">
        <button class="btn" id="bloomBtn">Hacer florecer ‚ú®</button>
        <button class="btn secondary" id="msgBtn" aria-controls="mensaje" aria-expanded="false">Mostrar mensaje üí¨</button>
      </div>
      <p id="mensaje" class="sub" style="display:none;margin-top:14px">
        Que hoy te pase algo <b>amarillo</b>: brillante, c√°lido y lleno de buena suerte. üåª
      </p>
    </div>

    <!-- Jard√≠n -->
    <div class="garden" id="garden" aria-hidden="true">
      <div class="ground" aria-hidden="true"></div>

      <!-- Definici√≥n de flor como s√≠mbolo reutilizable -->
      <svg width="0" height="0" style="position:absolute">
        <defs>
          <symbol id="flowerSymbol" viewBox="0 0 200 200">
            <g transform="translate(100,140)">
              <!-- Tallo -->
              <rect x="-3" y="-10" width="6" height="70" rx="3" fill="var(--stem)"/>
              <!-- Hojas -->
              <path d="M-3,20 C-40,10 -50,40 -6,34 Z" fill="var(--stem)" opacity=".9"/>
              <path d="M3,36 C36,28 50,54 6,48 Z" fill="var(--stem)" opacity=".85"/>

              <!-- P√©talos (12) -->
              <g id="petalos" style="transform-origin:0px -60px">
                <defs>
                  <path id="petalo" d="M0,-60 C12,-50 12,-20 0,0 C-12,-20 -12,-50 0,-60Z" />
                </defs>
                <g fill="url(#gradPetalo)" stroke="var(--accent-2)" stroke-width="1.5">
                  <use href="#petalo" transform="rotate(0)"/>
                  <use href="#petalo" transform="rotate(30)"/>
                  <use href="#petalo" transform="rotate(60)"/>
                  <use href="#petalo" transform="rotate(90)"/>
                  <use href="#petalo" transform="rotate(120)"/>
                  <use href="#petalo" transform="rotate(150)"/>
                  <use href="#petalo" transform="rotate(180)"/>
                  <use href="#petalo" transform="rotate(210)"/>
                  <use href="#petalo" transform="rotate(240)"/>
                  <use href="#petalo" transform="rotate(270)"/>
                  <use href="#petalo" transform="rotate(300)"/>
                  <use href="#petalo" transform="rotate(330)"/>
                </g>
              </g>

              <!-- Centro -->
              <circle r="16" cy="-8" fill="var(--center)" stroke="#5d4037" stroke-width="2"/>
              <circle r="10" cy="-8" fill="#6d4c41" opacity=".35"/>
              <!-- Brillo -->
              <circle r="4" cx="8" cy="-14" fill="var(--glow)" opacity=".9"/>
            </g>
          </symbol>

          <!-- Gradiente p√©talos -->
          <radialGradient id="gradPetalo" cx="50%" cy="30%" r="70%">
            <stop offset="0%" stop-color="#fff59d"/>
            <stop offset="45%" stop-color="var(--accent)"/>
            <stop offset="100%" stop-color="#e6ac00"/>
          </radialGradient>
        </defs>
      </svg>
    </div>

    <span class="sr-only">Animaci√≥n de flores amarillas brotando del suelo y balance√°ndose.</span>
  </div>

  <div class="backbar" id="backbar">
    <button class="backbtn" id="resetBtn">Volver a los botones ‚Ü©Ô∏è</button>
  </div>

  <div class="credits">Hecho con HTML + CSS + SVG + JS ‚Ä¢ by t√∫ üí´</div>

  <script>
    const bloomBtn = document.getElementById('bloomBtn');
    const msgBtn   = document.getElementById('msgBtn');
    const msg      = document.getElementById('mensaje');
    const btnGroup = document.getElementById('btnGroup');
    const garden   = document.getElementById('garden');
    const backbar  = document.getElementById('backbar');
    const resetBtn = document.getElementById('resetBtn');

    let blooming = false;

    function showMessage(open){
      msg.style.display = open ? 'block' : 'none';
      msgBtn.setAttribute('aria-expanded', String(open));
      msgBtn.textContent = open ? 'Ocultar mensaje üôà' : 'Mostrar mensaje üí¨';
    }

    msgBtn.addEventListener('click', ()=>{
      const open = msg.style.display === 'none';
      showMessage(open);
    });

    // Flores
    function createFlowers(count = 32){
      const width = garden.clientWidth;
      const height = garden.clientHeight;
      const minY = height * 0.38; // zona de suelo
      const maxY = height * 0.64;

      for(let i=0; i<count; i++){
        const x = Math.round( (i + Math.random()*0.7) / count * (width - 40) ) + 20; // distribuido a lo ancho
        const y = Math.round( minY + Math.random() * (maxY - minY) );               // en el suelo
        const scale = 0.8 + Math.random()*0.7;                                       // tama√±os variados
        const rot = (Math.random()*6 - 3) + 'deg';                                   // leve inclinaci√≥n
        const swayDur = 5.2 + Math.random()*2.2;                                     // balanceo distinto
        const floatDur = 6.0 + Math.random()*2.0;

        const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
        svg.setAttribute('class', 'flower');
        svg.setAttribute('viewBox', '0 0 200 200');
        svg.style.left = (x - 100) + 'px';
        svg.style.top  = (y - 170) + 'px';
        svg.style.setProperty('--r', rot);

        const use = document.createElementNS('http://www.w3.org/2000/svg', 'use');
        use.setAttributeNS('http://www.w3.org/1999/xlink','href','#flowerSymbol');
        svg.appendChild(use);
        garden.appendChild(svg);

        // Animaciones: brotar + abrir p√©talos + flotar/sway sutil
        svg.animate([
          { transform: `translateY(40vh) scale(${0.6*scale}) rotate(var(--r))`, opacity: 0 },
          { transform: `translateY(0) scale(${scale}) rotate(var(--r))`, opacity: 1 }
        ], { duration: 900 + i*28, easing:'cubic-bezier(.2,.8,.2,1)', fill:'forwards' });

        // Apertura de p√©talos
        const petals = svg.querySelector('#petalos');
        if (petals) {
          petals.animate([
            { transform: 'scale(.72)' },
            { transform: 'scale(1)' }
          ], { duration: 700 + i*15, easing:'cubic-bezier(.2,.8,.2,1)', fill:'forwards', delay: 80 });
        }

        // Balanceo y flotaci√≥n continuos
        svg.animate([
          { transform: `translateY(0) scale(${scale}) rotate(calc(var(--r) - 2deg))` },
          { transform: `translateY(-10px) scale(${scale}) rotate(calc(var(--r) + 2deg))` },
          { transform: `translateY(0) scale(${scale}) rotate(calc(var(--r) - 2deg))` }
        ], { duration: (swayDur+floatDur)*500, iterations: Infinity, easing:'ease-in-out', delay: 900 + i*28 });
      }
    }

    function clearFlowers(){
      garden.querySelectorAll('svg.flower').forEach(el => el.remove());
    }

    function setBloom(open){
      if(open){
        // Oculta botones y muestra barra volver
        btnGroup.classList.add('hidden');
        backbar.classList.add('show');
        createFlowers(40); // cantidad de flores
      }else{
        // Limpia y regresa botones
        clearFlowers();
        btnGroup.classList.remove('hidden');
        backbar.classList.remove('show');
      }
      blooming = open;
      bloomBtn.textContent = blooming ? 'Cerrar p√©talos üåô' : 'Hacer florecer ‚ú®';
    }

    bloomBtn.addEventListener('click', ()=> setBloom(!blooming));
    resetBtn.addEventListener('click', ()=> setBloom(false));

    // Entrada suave
    window.addEventListener('load', ()=>{
      setTimeout(()=> showMessage(true), 500);
    });
  </script>
</body>
</html>
